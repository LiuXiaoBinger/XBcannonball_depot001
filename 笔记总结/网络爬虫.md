# 网络爬虫

## 什么是网络爬虫？

### 网络爬虫是一个软件应用 , 可以自动化批量获取网络资源 , 网络爬虫工作于万维网（模拟浏览器行为） ， 万维网是由无数网页
+WEB服务器构成的庞大网络资源存储仓库 ， 万维网是网络用户获取数据的主要渠道 ， 爬虫爬取的网络数据用途 ， 数据分
析 ,数据挖掘， 搜索引擎(数据) , 数据可视化 , AI训练数据集 , 但是大家要注意爬虫只负责获取下载资源， 资源如果二次加工，
如果使用与爬虫无关 , 它就是一个网络数据采集/下载器。

## Web相关知识

### 万维网B/S架构 B=浏览器 S=Web服务器

### 网页(html + css) index(网站首页)

- html文件:网页源码文件 ， 网页源码采用html超文本标记语言编写
- css文件: 网页样式表 ， 通过css样式脚本语言为网页设置样式

### WEB服务器

- 与浏览器进行网络连接，提供数据支持，数据存储，业务处理等等服务..

	- web服务器只认浏览器

### HTTP协议

- 超文本传输协议,浏览器与服务器交互的主要协议， 用于传输网络资源(网页等等)
- HTTP (标准传输协议)，不安全

	- 传输效率比较好，网络上有些资源不需要加密

- HTTPS (升级版传输协议) ， 具有很高的安全性， 可以完成双端认证并加密传数据
- 基于TCP实现 ， 整体的连接过程与使用方式与tcp相同

### URL(链接) : 统一资源定位符，网上数据都有地址，我们都是访问地址

- 网络网络资源地址
- url具备唯一性（全网唯一）

## Web网络资源请求与响应过程，HTTP协议的请求与响应

### HTTP协议经典请求方式

- GET (请求方式)

	- 请求头数据为纯字符串，里面用关键字段填充， 支持请求时携带参数

- POST (请求方式)

	- 请求头数据为纯字符串，支持用户自定义请求体

### HTTP请求头内容 (由若干特殊字段构成的字符串)

- 1.请求方式 [GET or POST]
- 2.请求的资源URL,资源地址
- 3.指定HTTP协议版本
- 4.ACCEPT，客户端可接收的数据类别及优先级(服务器按优先级别响应内容)，比如图片文本的优先级
- 5.User_Agent,浏览器版本号及兼容信息
- 6.Host,服务端主机名(域名)
- 7.Connection 连接方式

	- Keep-alive(长连接)
	- close(短连接)

### HTTP响应头内容(由若干特殊字段构成的字符串)

- 1.服务器版本信息(apache , nginx)
- 2.服务器时间戳
- 3.服务器响应状态码 StatusCode，可以判断服务器是否给你响应东西

	- 通过响应码判断这次请求是否成功！
	- 200 OK ,服务端成功反馈用户请求资源，200表示成功
	- 301|302 , 服务端资源重定向
	- 404 , 请求失败，网络资源失效不存在
	- 501|502 , 服务器异常，故障

- 4.请求资源的大小

### 响应体内容，响应体响应头需要分开

- 响应的资源内容(文本、二进制、视音频流)

### 先提取响应头，在提取响应码，在提取响应内容

## OPENSSL 与web服务器进程安全认证

### 1.连接web服务器

### 2.与服务器进行安全认证

- 成功与服务器交互
- 安全认证过程

	- 单项认证

		- 1.向服务器发送SSL版本信息
		- ⒉.服务端回复SSL版本，随机数：公钥
		- 3.客户端验证服务器证书合法性,不合法则警告
		- 4.客户端向服务器发送支持的对称加密方法，服务器选择·
		- 5.服务器从客户端发送来的加密方案中挑选安全性，精度较好的方案
		- 6.将加密方式发送给客户端(明文传输)
		- 7.客户端接收加密方案，生成随机码作为对称加密密钥，使用服务器传来的
非对称加密公钥，对对称密钥加密后，发送给服务器
		- 8，服务器使用非对称密钥对信息进行解密，获取对称加密密钥
		- 加密

			- 对称加密算法

				- 加密精度低一些，加密效率高，适合加密大数据

			- 非对称加密算法：RAS

				- 对密钥加密

			- 加密都需要密钥，密钥就是随机数

	- 子主题 2

## 爬虫的网页跳转与拓扑

### 词条与词条之间是存在很强的关联性的，大多数词条中都有指向其他词条的连接，福据这种关畔原则我们可以让爬虫进行柘扑处理，理论上可以将整个饲条网站全部抓取完毕

